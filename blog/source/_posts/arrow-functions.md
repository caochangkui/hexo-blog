---
title: ES6 箭头函数易出错细节
categories: ECMAScript6
tags: [ES6, 箭头函数]
---

 &nbsp; &nbsp; &nbsp; &nbsp;箭头函数表达式的语法比函数表达式更短，并且没有自己的this，arguments，super或 new.target。

<!-- more -->
## 箭头函数基本语法

```
(参数1, 参数2, …, 参数N) => { 函数声明 }
(参数1, 参数2, …, 参数N) => 表达式（单一）
//相当于：(参数1, 参数2, …, 参数N) =>{ return 表达式; }

// 当只有一个参数时，圆括号是可选的：
(单一参数) => {函数声明}
单一参数 => {函数声明}

// 没有参数的函数应该写成一对圆括号。
() => {函数声明}
```

## 写法对比

```
let fun1 = (a, b) => a + b
let fun2 = (a, b) => { a + b }
let fun3 = (a, b) => { return a + b }

console.log(fun1(1,2), fun2(1,2), fun3(1,2)) // 3 undefined 3
```

* 当箭头函数后面的函数声明部分只有一行时，可以不加大括号，并且默认return
* 当箭头函数后面的函数声明部分加大括号时，必须添加return

## 注意
---
在ES6中，当箭头函数中表达式部分为语句块(加大括号)的时候，箭头函数并不会自动地返回一个值，需要手动加上 return 语句。
另外，当使用箭头函数来创建一个对象的时候的时候，要用括号将对象括起来：
```
//加括号的函数体返回对象字面表达式：
参数=> ({foo: bar})
```

因为，空对象和空的语句块{}看起来是一样的。ES6规定，紧跟箭头函数中箭头符号后面的 { 会被解析成语句块的开始， 而不是一个空对象。

